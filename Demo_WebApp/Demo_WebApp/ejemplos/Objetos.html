<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <script type="text/javascript">
        //Objetos en JavaScript
        console.log("La forma más común de escribir un objeto en JS" +
            " es con el formato obj = {prop1:valprop1, " +
            "... propn:valpropn}")
        const obj = {
            propiedad1: 123,
            propiedad2: "Propiedad 2",
            propiedad3: ["Este", "es", "un", "arreglo"]
        }

        console.log(obj)
        console.log(obj.propiedad1)
        console.log(obj.propiedad2)
        console.log(obj.propiedad3)

        //En cualquier momento puedes agregar tantas propiedades al objeto
        //como consideres necesario. No importa si el objeto ya existe
        obj.propiedad4 = "Esta es la propiedad 4"
        console.log(obj)
        console.log(obj.propiedad1)
        console.log(obj.propiedad2)
        console.log(obj.propiedad3)
        console.log(obj.propiedad4)

        console.clear()
        console.log("Otra manera de crear un objeto, es declarandolo"
            + "vacío y agregar las propiedades como se van necesitando")
        const obj_2 = {}
        console.log(obj_2)
        obj_2.propiedad1 = 123
        console.log(obj_2.propiedad1)

        console.log(obj_2)
        obj_2.propiedad2 = "Propiedad 2"
        console.log(obj_2.propiedad2)

        console.log(obj_2)
        obj_2.propiedad3 = ["Este", "es", "un", "arreglo"]
        console.log(obj_2.propiedad3)

        console.clear()
        console.log("Constructores")

        function Carro(color, marca, modelo, anio) {
            this.color = color
            this.marca = marca
            this.modelo = modelo
            this.anio = anio
            this.propietario_interno = null
        }

        const carro_1 = new Carro("Rojo", 'VW', "Vento", 2023)
        const carro_2 = new Carro("Azul", 'Ford', "Focus", 2023)
        const carro_3 = new Carro("Gris", 'Chevrolet', "Aveo", 2023)

        console.log(carro_1)
        console.log(carro_2)
        console.log(carro_3)

        carro_1.color = "Morado"
        carro_1.propietario = "Abraham"
        console.log(carro_1)

        console.clear()
        function Persona(nombre, domicilio, fechaNacimiento) {
            this.nombre = nombre
            this.domicilio = domicilio
            this.fechaNacimiento = fechaNacimiento
        }

        const persona = new Persona("Abraham",
            "Doimicilio conocido", "01/01/1988")

        console.log(persona)
        carro_1.propietario = persona
        carro_2.propietario_interno = persona

        console.log(carro_1)
        console.log(carro_2)

        console.clear()
        const animal = {
            tipo: "Perro",
            color: "Café",
            edad: 4,

            mostrarDatos() {
                console.log(this.tipo)
                console.log(this.color)
                console.log(this.edad)
            }
        }

        console.log(animal)
        animal.mostrarDatos()

        function Animal() {
            this.tipo = null
            this.color = null
            this.edad = null
            this.mostrarDatos = function () {
                console.log(this.tipo)
                console.log(this.color)
                console.log(this.edad)
            }

            this.comparar = function (objOtro) {
                if (this.tipo === objOtro.tipo &&
                    this.color === objOtro.color &&
                    this.edad === objOtro.edad) {
                    return 0
                } else if (this.edad > objOtro.edad) {
                    return 1
                }
                return -1
            }
        }

        const animla_2 = new Animal()
        animla_2.tipo = "Gato"
        animla_2.color = "Gris"
        animla_2.edad = 2

        console.log(animla_2)
        animla_2.mostrarDatos()

        const animla_3 = new Animal()
        animla_3.tipo = "Pato"
        animla_3.color = "Blanco"
        animla_3.edad = 1

        console.log(animla_3)
        animla_3.mostrarDatos()

        console.clear()
        const gato_1 = new Animal()
        //Acá gato_1 se almacena en una localidad de memoria
        gato_1.tipo = "Gato"
        gato_1.color = "Gris"
        gato_1.edad = 2

        const gato_2 = new Animal()
        //Acá gato_2 se almacena en una localidad de memoria.
        //Diferente de gato_1 porque son dos objetos distintos
        gato_2.tipo = "Gato"
        gato_2.color = "Gris"
        gato_2.edad = 2

        console.log(gato_1)
        console.log(gato_2)

        console.log(gato_1 === gato_2)
        //Compara localidades memoria y por eso regresa falso
        //ya que la locidad donde se almacena gato_1 es diferente
        //a la localidad donde se almacena gato_2

        console.log(gato_1.comparar(gato_2))
        //Acá los dos gatos don iguales

        gato_1.edad = 10
        console.log(gato_1.comparar(gato_2))
        //gato_1 es mayor que gato_2

        gato_2.edad = 11
        console.log(gato_1.comparar(gato_2))
        //gato_2 es mayor que gato_1

        //////////Clases
        console.clear()
        console.log("JavaScript también tiene soporte para clases" +
            " utilizando la palabra reservada 'class'")

        class Ejemplo {
            constructor() {
            }
            propiedad1 = "Esta es la propiedad 1"
            propiedad2 = null
            propiedad3 = 123

            metodo1() {
                console.log("Hola Clase Ejemplo")
            }
        }

        const ej1 = new Ejemplo()
        const ej2 = new Ejemplo()
        ej2.propiedad2 = 'Este es el valor de ej2'

        console.log(ej1)
        console.log(ej1.propiedad1)
        console.log(ej1.propiedad2)
        console.log(ej1.propiedad3)
        ej1.metodo1()

        console.log(ej2)
        console.log(ej2.propiedad1)
        console.log(ej2.propiedad2)
        console.log(ej2.propiedad3)
        ej2.metodo1()

        console.clear()
        console.log("Inicialización de propiedades en el constructor")
        class Color {
            constructor(r, g, b) {
                //if (r == null) { r = 0 }
                //if (g == null) { g = 0 }
                //if (b == null) { b = 0 }
                //if (r === null || r === undefined) { r = 0 }
                //if (g === null || g === undefined) { g = 0 }
                //if (b === null || b === undefined) { b = 0 }
                if (!r) { r = 0 }
                if (!g) { g = 0 }
                if (!b) { b = 0 }
                this.rgbValues = [r, g, b]
                this.transparencia = null
            }
        }

        const c1 = new Color(255, 0, 0)
        console.log(c1)
        console.log(c1.rgbValues)
        console.log(c1.transparencia)

        const c2 = new Color()
        console.log(c2)
        console.log(c2.rgbValues)
        console.log(c2.transparencia)

        console.clear()
        class Fruta {
            #stockKg
            #origen
            constructor(nombre, descripcion, precioKg, stockKg, origen) {
                this.nombre = nombre
                this.descripcion = descripcion
                this.precioKg = precioKg
                this.#stockKg = stockKg
                this.#origen = origen
            }

            getStockKg() {
                console.log(this.#stockKg)
            }

            getOrigen() {
                console.log(this.#origen)
                this.#calcularGanancia()
            }

            #calcularGanancia() {
                console.log("Ganancia!!!!")
            }
        }

        const f1 = new Fruta("Fresa", "Fresa", 123, 123, "Puebla")
        console.log(f1.nombre)
        console.log(f1.descripcion)
        console.log(f1.precioKg)
        console.log(f1.stockKg)//Propiedad privada y no puede ser accedida
        console.log(f1.origen)//Propiedad privada que no puede ser accedida
        f1.getOrigen()
        f1.getStockKg()

        console.clear()
        console.log("Miembros estáticos")
        class Calculadora {
            static x = 0
            static y = 0

            constructor() {
            }

            static sumar() {
                return this.x + this.y
            }

            static restar(v, w) {
                return v - w
            }

            static multiplicar() {
                return this.x * this.y
            }

            static dividir(v, w) {
                return v / w
            }

            static {
                Calculadora.mipropiedadestatica
                Calculadora.mipropiedadestatica_2 = 'Propiedad estática'
            }
        }

        console.log(Calculadora)
        Calculadora.x = 2
        Calculadora.y = 2
        console.log(Calculadora.x)
        console.log(Calculadora.y)
        console.log(Calculadora.sumar())
        console.log(Calculadora.restar(8, 2))
        console.log(Calculadora.multiplicar())
        console.log(Calculadora.dividir(8, 2))

        console.clear()
        console.log(Calculadora.mipropiedadestatica)
        console.log(Calculadora.mipropiedadestatica_2)
        Calculadora.mipropiedadestatica = 123
        console.log(Calculadora.mipropiedadestatica)

        ////////////////////Herencia
        console.clear()
        console.log("Herencia")
        class Fruta_V2 {
            #stockKg
            #origen
            constructor(nombre, descripcion, precioKg, stockKg, origen) {
                this.nombre = nombre
                this.descripcion = descripcion
                this.precioKg = precioKg
                this.#stockKg = stockKg
                this.#origen = origen
            }

            getStockKg() {
                console.log(this.#stockKg)
            }

            getOrigen() {
                console.log(this.#origen)
                this.#calcularGanancia()
            }

            #calcularGanancia() {
                console.log("Ganancia!!!!")
            }
        }

        class Pera extends Fruta_V2 {
            constructor(nombre, descripcion, precioKg, stockKg, origen,
                tipo) {
                super(nombre, descripcion, precioKg, stockKg, origen)
                this.tipo = tipo
            }

            getValores() {
                console.log(this.tipo)
                console.log(this.nombre)
                console.log(this.descripcion)
                console.log(this.precioKg)
                console.log(this.origen)
                //console.log(this.#origen)
                console.log(this.stockKg)
                //console.log(this.#stockKg)
            }
        }

        const p1 = new Pera("Pera", "Pera Desc", 123, 123, "Puebla",
            "Chile en nogada")
        console.log(p1)
        console.log(p1.nombre)
        console.log(p1.descripcion)
        console.log(p1.precioKg)
        console.log(p1.tipo)
        p1.getOrigen()
        p1.getStockKg()
        //p1.calcularGanancia()//El método es privado y lo marca como que no existe
        //p1.#calcularGanancia()//Solo se pueden declarar campos privados dentro de una clase
        //console.log(p1.origen)//Muestra indefinido ya que es privado
        //console.log(p1.stockKg)//Muestra indefinido ya que es privado

        p1.getValores()
    </script>
</body>
</html>